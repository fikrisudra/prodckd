<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MYPRODUCTION | Monitoring System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body style="overflow: hidden; background-color: var(--bg);">

    <div class="main-slider" id="mainSlider">
        
        <section class="tab-content">
            <header class="app-header">
                <p>Selamat bekerja,</p>
                <h2 id="userName">Memuat...</h2>
            </header>

            <div class="card accent-card fade-in">
                <p class="label">JABATAN AKTIF</p>
                <p id="userRole" class="value">Production Operator</p>
                <div style="margin-top: 15px; opacity: 0.6; font-size: 0.75rem;">
                    <i class="fa-solid fa-clock-rotate-left"></i> Shift Pagi (08:00 - 16:00)
                </div>
            </div>

            <div class="stats-grid">
                <div class="card stat-item fade-in" style="animation-delay: 0.1s;">
                    <p class="label">PRODUKSI</p>
                    <h3 class="stat-value">89%</h3>
                    <div style="width: 100%; height: 4px; background: #e2e8f0; border-radius: 2px; margin-top: 8px;">
                        <div style="width: 89%; height: 100%; background: var(--text); border-radius: 2px;"></div>
                    </div>
                </div>
                <div class="card stat-item fade-in" style="animation-delay: 0.2s;">
                    <p class="label">EFFISIENSI</p>
                    <h3 class="stat-value text-orange">92%</h3>
                    <div style="width: 100%; height: 4px; background: var(--accent-soft); border-radius: 2px; margin-top: 8px;">
                        <div style="width: 92%; height: 100%; background: var(--accent); border-radius: 2px;"></div>
                    </div>
                </div>
            </div>

            <div class="card fade-in" style="animation-delay: 0.3s; background: white;">
                <p class="label" style="color: var(--muted);">PENGUMUMAN</p>
                <p style="font-size: 0.85rem; font-weight: 500; color: var(--text); margin-top: 5px;">
                    Maintenance mesin Line A dijadwalkan pukul 14:00 WIB.
                </p>
            </div>
        </section>

        <section class="tab-content">
            <header class="app-header text-center">
                <h2>Quick Scanner</h2>
                <p class="sub-logo" style="margin-top: 5px;">Arahkan kamera ke QR Code material atau mesin</p>
            </header>
            
            <div class="scanner-container fade-in">
                <div id="reader" style="border: none;"></div>
                <div class="scan-overlay"></div>
            </div>

            <div id="scanned-result" class="hidden">
                <div class="card result-card fade-in">
                    <div class="profile-icon" style="width: 50px; height: 50px; font-size: 1.2rem; margin-bottom: 10px;">
                        <i class="fa-solid fa-check"></i>
                    </div>
                    <p class="label" style="color: var(--accent);">DATA TERDETEKSI</p>
                    <p id="res-text" class="res-data"></p>
                    <button onclick="restartScanner()" class="btn-primary" style="padding: 0.8rem;">
                        <i class="fa-solid fa-qrcode"></i> Scan Ulang
                    </button>
                </div>
            </div>
        </section>

        <section class="tab-content">
            <header class="app-header text-center">
                <h2>Akun Saya</h2>
            </header>
            
            <div class="card profile-card fade-in">
                <div class="profile-icon">
                    <i class="fa-solid fa-user-tie"></i>
                </div>
                <h3 id="profileName" style="font-size: 1.4rem; letter-spacing: -0.5px;">Memuat...</h3>
                <div style="margin: 8px 0 15px;">
                    <span class="badge">OPERATOR PRODUKSI</span>
                </div>
                <p id="profileID" class="profile-id">ID: -</p>
            </div>

            <div style="padding: 0 1rem; margin-top: 1rem;">
                <button onclick="logout()" class="btn-logout fade-in">
                    <i class="fa-solid fa-arrow-right-from-bracket"></i> Keluar Aplikasi
                </button>
            </div>
        </section>

    </div>

    <nav class="bottom-nav">
        <div class="nav-pill" id="navPill"></div>
        
        <button class="nav-item active" onclick="moveTab(0, this)">
            <i class="fa-solid fa-house"></i><span>Home</span>
        </button>
        <button class="nav-item" onclick="moveTab(1, this)">
            <i class="fa-solid fa-qrcode"></i><span>Scan</span>
        </button>
        <button class="nav-item" onclick="moveTab(2, this)">
            <i class="fa-solid fa-user"></i><span>User</span>
        </button>
    </nav>

    <script src="https://unpkg.com/html5-qrcode"></script>
    <script src="script.js"></script>
</body>
</html>
